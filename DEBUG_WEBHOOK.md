# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ë–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

## ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

```bash
curl "https://api.telegram.org/bot8511369237:AAE1AOI2lO0mhZ2Wzf6Q_13dOIzCZ3Co6iE/getWebhookInfo"
```

**–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:**
```json
{
  "ok": true,
  "result": {
    "url": "https://your-app.up.railway.app/webhook",
    "pending_update_count": 0
  }
}
```

**–í–∞–∂–Ω–æ:** URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **Railway –¥–æ–º–µ–Ω–æ–º**, –∞ –Ω–µ `develonik.ru`!

–ï—Å–ª–∏ URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `develonik.ru`), –Ω—É–∂–Ω–æ:
1. –ü–æ–ª—É—á–∏—Ç—å Railway –¥–æ–º–µ–Ω: Railway ‚Üí Settings ‚Üí Networking ‚Üí Domains
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `WEBHOOK_URL` –≤ Railway:
   - Railway ‚Üí Settings ‚Üí Variables
   - –î–æ–±–∞–≤–∏—Ç—å: `WEBHOOK_URL=https://your-app.up.railway.app/webhook`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å `/setup-webhook` –∑–∞–Ω–æ–≤–æ

## ‚úÖ –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway ‚Üí Deployments ‚Üí View Logs
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É –≤ Telegram
3. **–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:**
   - `üì® –ü–æ–ª—É—á–µ–Ω POST –∑–∞–ø—Ä–æ—Å –Ω–∞ /webhook`
   - `üì® –ü–æ–ª—É—á–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç Telegram`
   - `üì® –ü–æ–ª—É—á–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /start`
   - `‚úÖ –û—Ç–≤–µ—Ç –Ω–∞ /start –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω`

**–ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç:**
- Webhook URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ Telegram –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –±–æ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Railway –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

Railway ‚Üí Settings ‚Üí Variables –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- ‚úÖ `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- ‚úÖ `BOT_USERNAME` - –∏–º—è –±–æ—Ç–∞ (–±–µ–∑ @)
- ‚úÖ `WEB_APP_URL` - https://develonik.ru/
- ‚úÖ `USE_WEBHOOK=true`
- ‚úÖ `NODE_ENV=production`
- ‚úÖ `WEBHOOK_URL` - **https://your-app.up.railway.app/webhook** (–≤–∞–∂–Ω–æ!)

## ‚úÖ –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω

```bash
curl -X POST https://your-app.up.railway.app/webhook \
  -H "Content-Type: application/json" \
  -d '{"update_id":123,"message":{"message_id":1,"from":{"id":123,"first_name":"Test"},"chat":{"id":123},"date":1234567890,"text":"/start"}}'
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"ok":true}` –∏–ª–∏ —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç.

## üîß –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Webhook URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω

**–°–∏–º–ø—Ç–æ–º:** Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `develonik.ru` –≤–º–µ—Å—Ç–æ Railway –¥–æ–º–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–ª—É—á–∏—Ç–µ Railway –¥–æ–º–µ–Ω
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `WEBHOOK_URL` –≤ Railway Variables
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `/setup-webhook`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –õ–æ–≥–∏ –µ—Å—Ç—å, –Ω–æ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –û—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∫–æ–º–∞–Ω–¥ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏—è (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω)
- –ë–æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ BotFather)

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Ç –ª–æ–≥–æ–≤ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–º–∞–Ω–¥—ã

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- Webhook URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- Railway –¥–æ–º–µ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- Telegram –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –±–æ—Ç–∞

## üìä –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook
curl "https://api.telegram.org/bot8511369237:AAE1AOI2lO0mhZ2Wzf6Q_13dOIzCZ3Co6iE/getWebhookInfo"

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–æ—Ç–µ
curl "https://api.telegram.org/bot8511369237:AAE1AOI2lO0mhZ2Wzf6Q_13dOIzCZ3Co6iE/getMe"

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoint (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Railway –¥–æ–º–µ–Ω)
curl https://your-app.up.railway.app/webhook
```

