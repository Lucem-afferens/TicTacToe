# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## üìã –¢—Ä–µ–±—É–µ–º—ã–µ GitHub Secrets

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:

### üåê Web App (FTP –¥–µ–ø–ª–æ–π)

1. **FTP_HOST** - –∞–¥—Ä–µ—Å FTP —Å–µ—Ä–≤–µ—Ä–∞ Beget
   - –ü—Ä–∏–º–µ—Ä: `develonik.ru` –∏–ª–∏ `ftp.develonik.ru`

2. **FTP_USERNAME** - –ª–æ–≥–∏–Ω FTP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û–±—ã—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–æ–≥–∏–Ω–æ–º –ø–∞–Ω–µ–ª–∏ Beget

3. **FTP_PASSWORD** - –ø–∞—Ä–æ–ª—å FTP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–∞—Ä–æ–ª—å –æ—Ç FTP –∞–∫–∫–∞—É–Ω—Ç–∞

4. **FTP_WEB_PATH** - –ø—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è Web App
   - –û–±—ã—á–Ω–æ: `/public_html` –∏–ª–∏ `/public_html/tictactoe`

### ü§ñ Bot (SSH –¥–µ–ø–ª–æ–π)

1. **SSH_HOST** - –∞–¥—Ä–µ—Å SSH —Å–µ—Ä–≤–µ—Ä–∞ Beget
   - –ü—Ä–∏–º–µ—Ä: `develonik.ru` –∏–ª–∏ IP –∞–¥—Ä–µ—Å

2. **SSH_USERNAME** - –ª–æ–≥–∏–Ω SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û–±—ã—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–æ–≥–∏–Ω–æ–º –ø–∞–Ω–µ–ª–∏ Beget

3. **SSH_PRIVATE_KEY** - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
   - –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á: `ssh-keygen -t ed25519 -C "github-actions"`
   - –î–æ–±–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä: `cat ~/.ssh/id_ed25519.pub >> ~/.ssh/authorized_keys`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ GitHub Secrets

4. **SSH_PORT** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ—Ä—Ç SSH
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `22`

5. **SSH_BOT_PATH** - –ø—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –±–æ—Ç–∞
   - –ü—Ä–∏–º–µ—Ä: `/home/u1234567/tictactoe-bot` –∏–ª–∏ `/var/www/tictactoe-bot`

### üîê Environment Variables –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–æ—Ç–∞:

```bash
cd /path/to/bot
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ:
```env
BOT_TOKEN=your_bot_token_here
BOT_USERNAME=TicTacToe_ru_bot
WEB_APP_URL=https://develonik.ru/
NODE_ENV=production
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞–∂–º–∏—Ç–µ **New repository secret**
4. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—ã–π —Å–µ–∫—Ä–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

### –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–µ–ø–ª–æ—è:
- ‚úÖ Push –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `master`
- ‚úÖ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ **Actions** ‚Üí **Deploy TicTacToe Bot & Web App** ‚Üí **Run workflow**

### –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è:

1. **Build and Test** (Job 1)
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ç–µ—Å—Ç—ã
   - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (bot + web)

2. **Deploy Web App** (Job 2)
   - –°–±–æ—Ä–∫–∞ Web App
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
   - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Beget —á–µ—Ä–µ–∑ FTP
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ `.env` —Ñ–∞–π–ª–æ–≤

3. **Deploy Bot** (Job 3)
   - –°–±–æ—Ä–∫–∞ –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SCP
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Web App**: –û—Ç–∫—Ä–æ–π—Ç–µ https://develonik.ru/
2. **Bot**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É –≤ Telegram
3. **–õ–æ–≥–∏**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2: `pm2 logs tictactoe-bot`

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: FTP –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ FTP credentials –≤ GitHub Secrets
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å `FTP_WEB_PATH` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–æ–±–ª–µ–º–∞: SSH –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –∫–ª—é—á (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ–∑ –ø–∞—Ä–æ–ª—è)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `~/.ssh/authorized_keys`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±–æ—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: Bot –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2: `pm2 logs tictactoe-bot`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `node --version`

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ GitHub Secrets  
‚úÖ `.env` —Ñ–∞–π–ª—ã –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –¥–µ–ø–ª–æ—è  
‚úÖ –¢–æ–∫–µ–Ω—ã —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ Git  
‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑–æ–ø–∞—Å–µ–Ω

