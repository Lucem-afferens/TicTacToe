# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## üìã –¢—Ä–µ–±—É–µ–º—ã–µ GitHub Secrets

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:

### üåê FTP –¥–µ–ø–ª–æ–π (Web App + Bot)

1. **FTP_HOST** - –∞–¥—Ä–µ—Å FTP —Å–µ—Ä–≤–µ—Ä–∞ Beget
   - –ü—Ä–∏–º–µ—Ä: `develonik.ru` –∏–ª–∏ `ftp.develonik.ru`

2. **FTP_USERNAME** - –ª–æ–≥–∏–Ω FTP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û–±—ã—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–æ–≥–∏–Ω–æ–º –ø–∞–Ω–µ–ª–∏ Beget

3. **FTP_PASSWORD** - –ø–∞—Ä–æ–ª—å FTP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–∞—Ä–æ–ª—å –æ—Ç FTP –∞–∫–∫–∞—É–Ω—Ç–∞

4. **FTP_WEB_PATH** - –ø—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è Web App
   - –û–±—ã—á–Ω–æ: `/public_html` –∏–ª–∏ `/public_html/tictactoe`

5. **FTP_BOT_PATH** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –±–æ—Ç–∞
   - –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `FTP_WEB_PATH/bot/`
   - –ü—Ä–∏–º–µ—Ä: `/public_html/bot` –∏–ª–∏ `/home/u1234567/tictactoe-bot`

### üîê Environment Variables (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è)

**–í–ù–ò–ú–ê–ù–ò–ï**: `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ workflow –∏–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤ GitHub –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ FTP. **–ù–ï –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é!**

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:

1. **BOT_TOKEN** - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –ü–æ–ª—É—á–∏—Ç–µ —É [@BotFather](https://t.me/BotFather)

2. **BOT_USERNAME** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∏–º—è –±–æ—Ç–∞
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `TicTacToe_ru_bot`

3. **WEB_APP_URL** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - URL Web App
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `https://develonik.ru/`

`.env` —Ñ–∞–π–ª –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```env
BOT_TOKEN=<–∏–∑ —Å–µ–∫—Ä–µ—Ç–∞ BOT_TOKEN>
BOT_USERNAME=<–∏–∑ —Å–µ–∫—Ä–µ—Ç–∞ BOT_USERNAME –∏–ª–∏ TicTacToe_ru_bot>
WEB_APP_URL=<–∏–∑ —Å–µ–∫—Ä–µ—Ç–∞ WEB_APP_URL –∏–ª–∏ https://develonik.ru/>
NODE_ENV=production
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞–∂–º–∏—Ç–µ **New repository secret**
4. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:
- `FTP_HOST` - –∞–¥—Ä–µ—Å FTP —Å–µ—Ä–≤–µ—Ä–∞
- `FTP_USERNAME` - –ª–æ–≥–∏–Ω FTP
- `FTP_PASSWORD` - –ø–∞—Ä–æ–ª—å FTP
- `FTP_WEB_PATH` - –ø—É—Ç—å –¥–ª—è Web App (–Ω–∞–ø—Ä–∏–º–µ—Ä: `/public_html`)
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:
- `FTP_BOT_PATH` - –ø—É—Ç—å –¥–ª—è –±–æ—Ç–∞ (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `FTP_WEB_PATH/bot/`)
- `BOT_USERNAME` - –∏–º—è –±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `TicTacToe_ru_bot`)
- `WEB_APP_URL` - URL Web App (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `https://develonik.ru/`)

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

### –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–µ–ø–ª–æ—è:
- ‚úÖ Push –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `master`
- ‚úÖ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ **Actions** ‚Üí **Deploy TicTacToe Bot & Web App** ‚Üí **Run workflow**

### –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è:

1. **Build and Test** (Job 1)
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ç–µ—Å—Ç—ã
   - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (bot + web)

2. **Deploy** (Job 2)
   - –°–±–æ—Ä–∫–∞ Web App –∏ Bot
   - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `.env` —Ñ–∞–π–ª–∞** –∏–∑ GitHub Secrets
   - –ó–∞–≥—Ä—É–∑–∫–∞ Web App –Ω–∞ Beget —á–µ—Ä–µ–∑ FTP
   - –ó–∞–≥—Ä—É–∑–∫–∞ Bot –∏ `.env` —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ FTP
   - –ó–∞–≥—Ä—É–∑–∫–∞ `package.json` –∏ `package-lock.json` –¥–ª—è –±–æ—Ç–∞
   
   **–í–∞–∂–Ω–æ**: `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ workflow –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ FTP, **–±–µ–∑ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ Git**.

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Web App**: –û—Ç–∫—Ä–æ–π—Ç–µ https://develonik.ru/
2. **Bot**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É –≤ Telegram
3. **.env —Ñ–∞–π–ª**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `.env` –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—á–µ—Ä–µ–∑ FTP –∫–ª–∏–µ–Ω—Ç)
4. **–õ–æ–≥–∏**: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PM2, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs tictactoe-bot`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è)

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
ssh –≤–∞—à_–ª–æ–≥–∏–Ω@develonik.ru

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±–æ—Ç–∞
cd /path/to/bot  # –∏–ª–∏ cd public_html/bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --production

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
pm2 start dist/bot/index.js --name tictactoe-bot
pm2 save
pm2 startup  # –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ nohup
nohup node dist/bot/index.js > bot.log 2>&1 &

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ screen/tmux
screen -S bot
node dist/bot/index.js
# Ctrl+A, –∑–∞—Ç–µ–º D –¥–ª—è –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: FTP –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ FTP credentials –≤ GitHub Secrets
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å `FTP_WEB_PATH` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ workflow –≤ GitHub Actions

### –ü—Ä–æ–±–ª–µ–º–∞: .env —Ñ–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `BOT_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ GitHub Secrets
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ workflow - —Ç–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é

### –ü—Ä–æ–±–ª–µ–º–∞: Bot –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `.env` —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—á–µ—Ä–µ–∑ FTP –∫–ª–∏–µ–Ω—Ç)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `BOT_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ GitHub Secrets
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs tictactoe-bot` –∏–ª–∏ `cat bot.log`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `node --version`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install --production` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–æ—Ç–∞

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ GitHub Secrets  
‚úÖ `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ workflow –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ FTP  
‚úÖ `.env` —Ñ–∞–π–ª **–ù–ï –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Git** - –æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –¥–µ–ø–ª–æ—è  
‚úÖ –¢–æ–∫–µ–Ω—ã —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ Git  
‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑–æ–ø–∞—Å–µ–Ω  
‚úÖ `.env` —Ñ–∞–π–ª –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ `.gitignore` –∏ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è

