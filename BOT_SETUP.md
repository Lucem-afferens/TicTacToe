# ü§ñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram Bot

## üìã –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:

```env
BOT_TOKEN=your_bot_token_here
BOT_USERNAME=TicTacToe_ru_bot
WEB_APP_URL=https://your-domain.com  # –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Web App
NODE_ENV=production
```

## üìã –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
npm run dev:bot

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ Web App
npm run dev:web
```

## üìã –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App URL –≤ BotFather

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (ngrok):

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok: `brew install ngrok` (macOS) –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å [ngrok.com](https://ngrok.com)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok:
   ```bash
   ngrok http 3000
   ```
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)
4. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
   ```
   /mybots
   ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ @TicTacToe_ru_bot
   ‚Üí Bot Settings
   ‚Üí Menu Button
   ‚Üí Configure Menu Button
   ‚Üí Web App
   ‚Üí –í–≤–µ–¥–∏—Ç–µ URL: https://abc123.ngrok.io
   ```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ Web App –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ (Vercel, Netlify, –∏–ª–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä)
2. –ü–æ–ª—É—á–∏—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://tictactoe.yourdomain.com`)
3. –í BotFather:
   ```
   /mybots
   ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
   ‚Üí Bot Settings ‚Üí Menu Button
   ‚Üí Web App
   ‚Üí –í–≤–µ–¥–∏—Ç–µ URL: https://tictactoe.yourdomain.com
   ```

## üìã –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram: [@TicTacToe_ru_bot](https://t.me/TicTacToe_ru_bot)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ò–≥—Ä–∞—Ç—å"
4. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è Web App —Å –∏–≥—Ä–æ–π
5. –°—ã–≥—Ä–∞–π—Ç–µ –∏–≥—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∏–≥—Ä–∞
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã –ø—Ä–∏ –ø–æ–±–µ–¥–µ
   - ‚úÖ –ü—Ä–∏—Ö–æ–¥—è—Ç –ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã –≤ –±–æ—Ç

## üìã –®–∞–≥ 5: –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç A: VPS/–°–µ—Ä–≤–µ—Ä

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   git clone https://github.com/Lucem-afferens/TicTacToe.git
   cd TicTacToe
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install --production
   ```

3. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º:
   ```bash
   cp .env.example .env
   nano .env  # –î–æ–±–∞–≤—å—Ç–µ BOT_TOKEN
   ```

4. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   npm run build:bot
   ```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (—Å PM2 –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞):
   ```bash
   npm install -g pm2
   pm2 start dist/bot/index.js --name tictactoe-bot
   pm2 save
   pm2 startup  # –î–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
   ```

### –í–∞—Ä–∏–∞–Ω—Ç B: Railway / Heroku / Render

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `BOT_TOKEN`
   - `BOT_USERNAME`
   - `WEB_APP_URL`
   - `NODE_ENV=production`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞: `npm start`
4. –î–µ–ø–ª–æ–π—Ç–µ

## üìã –®–∞–≥ 6: –î–µ–ø–ª–æ–π Web App

### –í–∞—Ä–∏–∞–Ω—Ç A: Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI: `npm i -g vercel`
2. –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   vercel
   ```
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –ü–æ–ª—É—á–∏—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://tictactoe.vercel.app`)
5. –û–±–Ω–æ–≤–∏—Ç–µ `WEB_APP_URL` –≤ `.env` –±–æ—Ç–∞
6. –û–±–Ω–æ–≤–∏—Ç–µ Menu Button –≤ BotFather

### –í–∞—Ä–∏–∞–Ω—Ç B: Netlify

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Netlify
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏:
   - Build command: `npm run build:web`
   - Publish directory: `dist/web`
3. –î–µ–ø–ª–æ–π—Ç–µ
4. –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ BotFather

### –í–∞—Ä–∏–∞–Ω—Ç C: –°–≤–æ–π —Å–µ—Ä–≤–µ—Ä (FTP)

1. –°–æ–±–µ—Ä–∏—Ç–µ Web App:
   ```bash
   npm run build:web
   ```
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `dist/web/` –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ FTP
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Telegram)
4. –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ BotFather

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] `.env` —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç `BOT_TOKEN`
- [ ] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ: `npm run dev:bot`
- [ ] Web App –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ: `npm run dev:web`
- [ ] Web App URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ BotFather
- [ ] –ë–æ—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- [ ] Web App –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
- [ ] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Web App
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞: –±–æ—Ç ‚Üí Web App ‚Üí –∏–≥—Ä–∞ ‚Üí –ø—Ä–æ–º–æ–∫–æ–¥

## üêõ Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω: `pm2 list` –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ BotFather (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Web App –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —ç—Ç–æ–º—É URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–º–æ–∫–æ–¥—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `sendDataToBot()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ Web App
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `web_app_data` –≤ –±–æ—Ç–µ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegram Web App](https://core.telegram.org/bots/webapps)
- [Grammy Documentation](https://grammy.dev/)

